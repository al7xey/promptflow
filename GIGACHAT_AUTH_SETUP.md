# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GIGACHAT_AUTH –¥–ª—è Vercel

## ‚ùå –û—à–∏–±–∫–∞ 400: "Can't decode 'Authorization' header"

–≠—Ç–∞ –æ—à–∏–±–∫–∞ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `GIGACHAT_AUTH` **–ù–ï —è–≤–ª—è–µ—Ç—Å—è –≤–∞–ª–∏–¥–Ω—ã–º Base64**.

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- –í Vercel —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ **–ë–ï–ó Base64-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `client_id:client_secret` –≤–º–µ—Å—Ç–æ Base64)
- –ó–Ω–∞—á–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç **–ª–∏—à–Ω–∏–µ —Å–∏–º–≤–æ–ª—ã** (–ø—Ä–æ–±–µ–ª—ã, –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫, –∫–∞–≤—ã—á–∫–∏)
- –ó–Ω–∞—á–µ–Ω–∏–µ —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–µ—Ñ–∏–∫—Å **"Basic "** (–Ω–µ –Ω—É–∂–Ω–æ - –∫–æ–¥ –¥–æ–±–∞–≤–ª—è–µ—Ç –µ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

## ‚ùå –û—à–∏–±–∫–∞ 401: "Authorization error: header is incorrect"

–≠—Ç–∞ –æ—à–∏–±–∫–∞ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `GIGACHAT_AUTH` –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –≤ Vercel (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ credentials).

## ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç GIGACHAT_AUTH

`GIGACHAT_AUTH` –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å **Base64-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É** –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```
Base64(client_id:client_secret)
```

## üîß –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –æ–Ω–ª–∞–π–Ω-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
1. –í–æ–∑—å–º–∏—Ç–µ –≤–∞—à `client_id` –∏ `client_secret` –æ—Ç GigaChat
2. –°–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä–æ–∫—É: `client_id:client_secret`
3. –ó–∞–∫–æ–¥–∏—Ä—É–π—Ç–µ –≤ Base64 —á–µ—Ä–µ–∑ –ª—é–±–æ–π –æ–Ω–ª–∞–π–Ω-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, https://www.base64encode.org/)
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É (Linux/Mac)
```bash
echo -n "your_client_id:your_client_secret" | base64
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ Node.js
```javascript
const credentials = "your_client_id:your_client_secret";
const encoded = Buffer.from(credentials).toString('base64');
console.log(encoded);
```

## üìù –ü—Ä–∏–º–µ—Ä:

–ï—Å–ª–∏ —É –≤–∞—Å:
- `client_id`: `019bb751-40f2-7795-8127-b47b2e8ce5ca`
- `client_secret`: `f6c5a16c-6cff-4bee-a960-4784198c7919`

–¢–æ —Å—Ç—Ä–æ–∫–∞ –¥–ª—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è:
```
019bb751-40f2-7795-8127-b47b2e8ce5ca:f6c5a16c-6cff-4bee-a960-4784198c7919
```

–ü–æ—Å–ª–µ Base64-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª—É—á–∏—Ç—Å—è:
```
MDE5YmI3NTEtNDBmMi03Nzk1LTgxMjctYjQ3YjJlOGNlNWNhOmY2YzVhMTZjLTZjZmYtNGJlZS1hOTYwLTQ3ODQxOThjNzkxOQ==
```

## üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ Vercel:

1. **Vercel Dashboard** ‚Üí –í–∞—à –ø—Ä–æ–µ–∫—Ç ‚Üí **Settings** ‚Üí **Environment Variables**
2. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
   - **Key**: `GIGACHAT_AUTH`
   - **Value**: –≤–∞—à–∞ Base64-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ (–ë–ï–ó –ø—Ä–µ—Ñ–∏–∫—Å–∞ "Basic ")
   - **Environment**: Production (–∏ Preview –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
3. **Redeploy** –ø—Ä–æ–µ–∫—Ç

## ‚ö†Ô∏è –í–∞–∂–Ω–æ:

- ‚ùå –ù–ï –¥–æ–±–∞–≤–ª—è–π—Ç–µ –ø—Ä–µ—Ñ–∏–∫—Å "Basic " - –∫–æ–¥ –¥–æ–±–∞–≤–ª—è–µ—Ç –µ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚ùå –ù–ï –∫–æ–¥–∏—Ä—É–π—Ç–µ —Ç–æ–ª—å–∫–æ client_id –∏–ª–∏ —Ç–æ–ª—å–∫–æ client_secret
- ‚úÖ –ö–æ–¥–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–æ–∫—É `client_id:client_secret` (—Å –¥–≤–æ–µ—Ç–æ—á–∏–µ–º)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Base64-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞:

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Vercel:
- –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ 401 –∏—Å—á–µ–∑–ª–∞ ‚Üí –≤—Å—ë –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –æ—Å—Ç–∞–ª–∞—Å—å ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ (–±–µ–∑ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–æ)

